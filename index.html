<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>gitububkm</title>
  <meta name="description" content="Минималистичный сайт: крупная типографика, чистые блоки, плавные анимации." />
  <link rel="icon" href="assets/favicon.svg" />
  <style>
    /* ———————————————————————————————————
       БАЗА (системные шрифты)
    ———————————————————————————————————— */
    :root {
      --bg: #ffffff;
      --fg: #0a0a0a;
      --muted: #6e6e73;
      --card: #f5f5f7;
      --border: #e5e5ea;
      --accent: #0071e3;
      --accent-press: #0077ed;
      --radius: 24px;
      --maxw: 1200px;
      --shadow: 0 1px 2px rgba(0,0,0,.06), 0 8px 24px rgba(0,0,0,.08);
      color-scheme: light dark;
    }
    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #000000; --fg: #f5f5f7; --muted: #a1a1a6;
        --card: #111113; --border: #1f1f22;
        --shadow: 0 1px 2px rgba(0,0,0,.5), 0 8px 24px rgba(0,0,0,.6);
      }
    }

    html, body { height: 100%; }
    body {
      margin: 0; background: var(--bg); color: var(--fg);
      font: 16px/1.6 -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
      -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
    }

    /* ———————————————————————————————————
       КОНТЕЙНЕРЫ И УТИЛИТЫ
    ———————————————————————————————————— */
    .container { width: 100%; max-width: var(--maxw); margin: 0 auto; padding: 0 20px; }
    .center { text-align: center; }
    .muted { color: var(--muted); }
    .btn {
      display: inline-flex; align-items: center; justify-content: center;
      gap: 8px; padding: 12px 20px; border-radius: 999px;
      background: var(--accent); color: #fff; text-decoration: none; font-weight: 600;
      box-shadow: inset 0 -1px 0 rgba(0,0,0,.12), 0 6px 16px rgba(0,113,227,.25);
      transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
    }
    .btn:hover { transform: translateY(-1px); box-shadow: inset 0 -1px 0 rgba(0,0,0,.12), 0 10px 28px rgba(0,113,227,.35); }
    .btn:active { transform: translateY(0); background: var(--accent-press); }
    .btn.secondary { background: transparent; color: var(--accent); box-shadow: none; border: 1px solid var(--border); }
    .btn.secondary:hover { background: color-mix(in srgb, var(--accent) 8%, transparent); }

    /* ———————————————————————————————————
       СТЕКЛЯННАЯ НАВИГАЦИЯ
    ———————————————————————————————————— */
    .nav {
      position: sticky; top: 0; z-index: 50;
      backdrop-filter: saturate(180%) blur(14px);
      background: color-mix(in srgb, var(--bg) 65%, transparent);
      border-bottom: 1px solid color-mix(in srgb, var(--border) 65%, transparent);
    }
    .nav .wrap { display: flex; align-items: center; justify-content: space-between; height: 56px; }
    .logo { font-weight: 700; letter-spacing: .2px; }
    .nav a { color: inherit; text-decoration: none; font-weight: 500; }
    .nav .links { display: none; gap: 20px; }
    .nav .actions { display: flex; gap: 10px; }
    @media (min-width: 900px) { .nav .links { display: flex; } }

    /* ———————————————————————————————————
       HERO-БЛОК
    ———————————————————————————————————— */
    .hero { position: relative; padding: 96px 0 40px; overflow: hidden; }
    .hero h1 { font-size: clamp(40px, 7vw, 72px); line-height: 1.05; letter-spacing: -.5px; margin: 0 0 16px; font-weight: 800; }
    .hero p  { font-size: clamp(16px, 2.2vw, 20px); margin: 0 auto 28px; max-width: 720px; }
    .hero .cta { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }

    /* Иллюстрация-"девайс" */
    .device {
      margin: 48px auto 0; width: min(100%, 940px); aspect-ratio: 16/9; border-radius: calc(var(--radius) * 1.2);
      background: radial-gradient(1200px 600px at 80% 0%, #61a6ff40, transparent),
                  radial-gradient(1200px 600px at 0% 100%, #ff7ab640, transparent),
                  linear-gradient(180deg, var(--card), color-mix(in srgb, var(--card) 60%, transparent));
      box-shadow: var(--shadow); position: relative; overflow: hidden;
    }
    .bezel { position: absolute; inset: 22px; border-radius: calc(var(--radius) * .8); background: #000; overflow: hidden; }
    .screen {
      position: absolute; inset: 0; background:
        radial-gradient(1200px 800px at 50% -20%, rgba(255,255,255,.18), transparent),
        conic-gradient(from 200deg at 50% 50%, #4f46e5, #06b6d4, #22c55e, #f59e0b, #ef4444, #8b5cf6, #4f46e5);
      opacity: .9; animation: hue 12s linear infinite;
    }
    @keyframes hue { to { filter: hue-rotate(360deg); } }

    /* ———————————————————————————————————
       КАРТОЧКИ «ПРОДУКТОВ»
    ———————————————————————————————————— */
    .grid { display: grid; gap: 20px; padding: 60px 0; }
    @media (min-width: 900px) { .grid { grid-template-columns: repeat(2, 1fr); } }

    .card { position: relative; border-radius: var(--radius); overflow: hidden; background: var(--card);
      border: 1px solid var(--border); min-height: 360px; display: grid; place-items: center; box-shadow: var(--shadow); isolation: isolate; }
    .card .inner { padding: 32px; text-align: center; }
    .card h2 { font-size: clamp(28px, 4.2vw, 40px); line-height: 1.1; margin: 0 0 8px; }
    .card p  { margin: 0 0 16px; color: var(--muted); }
    .card .img {
      width: clamp(220px, 40vw, 360px); aspect-ratio: 4 / 3; border-radius: 28px; margin: 16px auto 12px;
      background:
        radial-gradient(400px 200px at 20% 20%, #61a6ff33, transparent),
        linear-gradient(135deg, #0ea5e9 0%, #8b5cf6 100%);
      background-position: center; background-repeat: no-repeat; background-size: contain;
      border: 1px solid var(--border); box-shadow: 0 20px 50px -24px rgba(0,0,0,.35); overflow: hidden;
      transform: translateZ(0); transition: transform .5s cubic-bezier(.2,.8,.2,1), box-shadow .35s ease;
    }
    .card:hover .img { transform: translateY(-6px) scale(1.02); }

    /* ———————————————————————————————————
       ФУТЕР
    ———————————————————————————————————— */
    footer { border-top: 1px solid var(--border); padding: 40px 0 60px; color: var(--muted); font-size: 14px; }
    footer .cols { display: grid; gap: 18px; grid-template-columns: 1fr; }
    footer a { color: inherit; text-decoration: none; }
    @media (min-width: 700px) { footer .cols { grid-template-columns: repeat(3, 1fr); } }

    /* Анимация появления */
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    .fade-up{opacity:0;transform:translateY(12px);transition:opacity .6s ease, transform .6s ease}
    .fade-up.reveal{opacity:1;transform:translateY(0)}

    /* ——— Gmail reveal panel ——— */
    .reveal-wrap{display:flex;flex-direction:column;align-items:center;gap:12px}
    .reveal-panel{
      width:min(560px,100%); overflow:hidden; border-radius:18px; border:1px solid var(--border);
      background:color-mix(in srgb, var(--card) 85%, transparent); backdrop-filter:saturate(160%) blur(8px);
      box-shadow:0 8px 28px rgba(0,0,0,.18); max-height:0; opacity:0; transform:translateY(-6px);
      transition:max-height .45s cubic-bezier(.2,.8,.2,1), opacity .3s ease, transform .35s ease;
    }
    .reveal-panel.open{opacity:1;transform:translateY(0)}
    .panel-inner{padding:16px 18px;display:flex;align-items:center;justify-content:space-between;gap:12px}
    .panel-inner .email{font-weight:700;letter-spacing:.2px}
    .btn.ghost{background:transparent;color:var(--fg);box-shadow:none;border:1px solid var(--border)}
    .btn.ghost:hover{background:color-mix(in srgb,var(--fg) 6%, transparent)}
    .btn .chev{display:inline-block;transition:transform .25s ease}
    .btn[aria-expanded="true"] .chev{transform:rotate(180deg)}

    /* ——— Секретный раздел + модалка ——— */
    #secretPanel[hidden]{display:none!important}
    #secretPanel{padding:64px 0}
    #secretPanel .secret-card{
      max-width:820px;margin:0 auto;padding:32px 28px;border-radius:var(--radius);
      border:1px solid var(--border); background:var(--card); box-shadow:var(--shadow); text-align:center;
    }
    #secretPanel + #contact{margin-top:24px}

    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:1000;background:rgba(0,0,0,.35);backdrop-filter:blur(8px)}
    .modal.open{display:flex}
    .sheet{width:min(420px,92%);background:color-mix(in srgb,var(--card) 92%, transparent);border:1px solid var(--border);border-radius:20px;box-shadow:0 20px 60px rgba(0,0,0,.35);padding:18px}
    .sheet h3{margin:0 0 8px;font-size:20px}
    .sheet p{margin:0 0 14px;color:var(--muted)}
    .sheet .row{display:flex;gap:10px}
    .input{flex:1;border-radius:12px;border:1px solid var(--border);padding:12px 14px;background:var(--bg);color:var(--fg);font:inherit}
    .input:focus{outline:none;border-color:color-mix(in srgb,var(--accent) 50%,var(--border));box-shadow:0 0 0 4px color-mix(in srgb,var(--accent) 20%,transparent)}
    .shake{animation:shake .3s linear}
    @keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-4px)}75%{transform:translateX(4px)}}
	/* ——— MOBILE FIX: контактный блок ——— */
@media (max-width: 700px) {
  /* компактнее сама карточка */
  #contact .card { padding: 18px 14px; }

  /* заголовок помягче по размеру */
  #contact h2 { font-size: clamp(22px, 6.2vw, 30px); }

  /* кнопки в один столбец и на всю ширину */
  #contact .reveal-wrap .cta {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
  }
  #contact .reveal-wrap .btn {
    width: 100%;
    min-width: 0;
    justify-content: center;
  }

  /* панелька Gmail на всю ширину контейнера */
  #contact .reveal-panel {
    width: 100%;
    border-radius: 14px;
  }

  /* внутри панели элементы складываем в колонку */
  #contact .panel-inner {
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
  }
}
/* ——— NAVBAR: мобильная адаптация кнопки «Написать» ——— */
@media (max-width: 700px) {
  /* разрешаем перенос строк и даём место под кнопки */
  .nav .wrap { flex-wrap: wrap; row-gap: 8px; }

  /* ссылки по центру, на отдельной строке */
  .nav .links { order: 2; width: 100%; justify-content: center; }

  /* кнопки действий на отдельной строке, по центру */
  .nav .actions {
    order: 3;
    width: 100%;
    display: flex;
    gap: 8px;
    justify-content: center;
  }

  /* уменьшаем горизонтальные поля, чтобы ничего не обрезалось */
  .nav .actions .btn {
    padding: 10px 14px;
    font-size: 15px;
    white-space: nowrap;
    min-width: 140px; /* комфортная ширина на большинстве телефонов */
  }
}

/* очень узкие экраны: обе кнопки тянутся равномерно */
@media (max-width: 380px) {
  .nav .actions .btn {
    min-width: 0;
    flex: 1 1 0;
  }
}

/* ——— CONTACT: одинаковый размер кнопок и аккуратная панель ——— */
@media (max-width: 700px) {
  /* кнопки в колонку и на всю ширину */
  #contact .reveal-wrap .cta {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
  }
  /* одинаковая ширина и высота кнопок */
  #contact .reveal-wrap .btn {
    width: 100%;
    min-width: 0;
    justify-content: center;
    min-height: 48px;   /* одинаковая высота */
    padding: 12px 16px; /* одинаковые отступы */
    font-size: 16px;
  }

  /* панель Gmail — на всю ширину карточки; элементы в колонку */
  #contact .reveal-panel { width: 100%; border-radius: 14px; }
  #contact .panel-inner {
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
  }
}
/* ===== Глобально: убрать горизонтальную прокрутку и тянучку вбок ===== */
*,
*::before,
*::after { box-sizing: border-box; }

html, body {
  overflow-x: hidden;           /* не даём странице уезжать вбок */
  overscroll-behavior-x: none;  /* запрет «подтягивания» по оси X */
  touch-action: pan-y;          /* разрешаем только вертикальный скролл */
  max-width: 100vw;             /* страховка от расширений */
}

/* Иногда широкие трансформации могут вылезти — подрежем всё по краям в мобайле */
@media (max-width: 700px) {
  body { position: relative; }
  .hero, .container, .nav { max-width: 100vw; overflow-x: hidden; }
}

/* ===== NAVBAR: аккуратно адаптируем кнопки и не даём им вылезать ===== */
@media (max-width: 700px) {
  .nav .wrap {
    flex-wrap: wrap;
    row-gap: 8px;
    padding: 8px 0 10px; /* добавим воздуха, фон шапки покрывает 2 строки */
  }

  .nav .logo { order: 1; width: 100%; text-align: center; }

  .nav .links {
    order: 2;
    width: 100%;
    display: flex !important;
    justify-content: center;
    gap: 12px;
  }

  .nav .actions {
    order: 3;
    width: 100%;
    display: flex;
    justify-content: center;
    gap: 8px;
  }

  /* делаем кнопки шапки немного меньше и не позволяём им обрезаться */
  .nav .actions .btn {
    padding: 9px 12px;
    font-size: 14px;
    line-height: 1.1;
    white-space: nowrap;
    min-width: 128px;  /* компактнее, чем раньше */
  }
}

/* на очень узких — пусть тянутся равномерно, чтобы точно не вылезали */
@media (max-width: 360px) {
  .nav .actions .btn {
    min-width: 0;
    flex: 1 1 0;
  }
}

/* ===== CONTACT: одинаковый размер кнопок на телефоне ===== */
@media (max-width: 700px) {
  /* кладём действия в колонку и растягиваем на всю ширину карточки */
  #contact .reveal-wrap .cta {
    display: flex;
    flex-direction: column;
    width: 100%;
    gap: 10px;
  }

  /* ВСЕ три кнопки — одинаковая ширина/высота */
  #contact .reveal-wrap .btn,
  #contact .reveal-wrap .btn.secondary {
    width: 100%;
    min-width: 0;
    min-height: 48px;    /* одинаковая высота */
    padding: 12px 16px;  /* одинаковые отступы */
    font-size: 16px;
    justify-content: center;
    white-space: nowrap; /* чтобы текст не переносился и высота не прыгала */
  }

  /* панель Gmail на всю ширину, внутренности — в колонку и 100% */
  #contact .reveal-panel { width: 100%; border-radius: 14px; }
  #contact .panel-inner {
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
  }
}
/* ——— NAVBAR mobile fix: больше не режется и выглядит аккуратно ——— */
@media (max-width: 700px) {
  /* контейнер навигации растёт по контенту */
  .nav .wrap {
    height: auto;        /* ключ: убираем фикс 56px */
    min-height: 56px;    /* чтобы не схлопывалось */
    padding: 8px 16px 10px;
    flex-wrap: wrap;
    row-gap: 8px;
  }

  /* три строки: логотип, ссылки, действия */
  .nav .logo { order: 1; width: 100%; text-align: center; }

  .nav .links {
    order: 2;
    width: 100%;
    display: flex !important;
    justify-content: center;
    gap: 10px;
  }
  .nav .links a {
    padding: 6px 10px;      /* компактнее */
    font-size: 14px;
    border: 1px solid var(--border);
    border-radius: 999px;
    background: color-mix(in srgb, var(--bg) 60%, transparent);
  }

  .nav .actions {
    order: 3;
    width: 100%;
    display: flex;
    justify-content: center;
    gap: 8px;
  }
  .nav .actions .btn {
    padding: 9px 12px;
    font-size: 14px;
    line-height: 1.2;
    white-space: nowrap;
    min-width: 120px;       /* ещё капельку меньше */
  }
}

/* очень узкие устройства — кнопки тянутся равномерно и точно не вылезают */
@media (max-width: 360px) {
  .nav .actions .btn {
    min-width: 0;
    flex: 1 1 0;
  }
}


  </style>
</head>
<body>
  <!-- Навбар -->
  <nav class="nav">
    <div class="container wrap">
      <div class="logo">gitububkm</div>
      <div class="links">
        <a href="#features">Проекты</a>
        <a href="#contact">Контакты</a>
        <a href="#secret" id="secretLink">Совершенно Секретно</a>
      </div>
      <div class="actions">
        <a class="btn secondary" href="https://github.com/gitububkm" target="_blank" rel="noreferrer">GitHub</a>
        <a class="btn" href="https://t.me/ububkmburry" target="_blank" rel="noreferrer">Написать</a>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <header class="hero container center">
    <h1 class="fade-up">Красиво. Быстро. Минимально.</h1>
    <p class="muted fade-up" style="transition-delay:.06s">Чистая типографика, фокус на продукте и детали, которые чувствуются.</p>
    <div class="cta fade-up" style="transition-delay:.12s">
      <a class="btn" href="https://github.com/gitububkm/Personal_Projects_Private" target="_blank" rel="noreferrer">Смотреть проекты</a>
      <a class="btn secondary" href="https://github.com/gitububkm" target="_blank" rel="noreferrer">Узнать больше</a>
    </div>
    <div class="device fade-up" style="transition-delay:.18s">
      <div class="bezel">
        <div class="screen" role="img" aria-label="Демонстрация продукта"></div>
      </div>
    </div>
  </header>

  <!-- Сетка карточек -->
  <section id="features" class="container grid">
    <article class="card gradient fade-up" data-tilt>
      <div class="inner">
        <h2>ctf-checker</h2>
        <p>CLI/скрипты для быстрой проверки задач CTF: автоматизация рутины, аккуратные отчёты.</p>
        <div class="img" aria-hidden="true" data-proj="ctf-checker"></div>
        <div class="cta" style="margin-top:16px">
          <a class="btn" href="https://github.com/gitububkm/Personal_Projects_Private/tree/main/%D0%9B%D0%B8%D1%87%D0%BD%D1%8B%D0%B5%20%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/ctf-checker" target="_blank" rel="noreferrer">Открыть →</a>
        </div>
      </div>
    </article>

    <article class="card fade-up" data-tilt>
      <div class="inner">
        <h2>girl_responder</h2>
        <p>Бот/утилита для шаблонных ответов и сценариев общения. Минимализм, скорость, удобство.</p>
        <div class="img" aria-hidden="true" data-proj="girl_responder"></div>
        <div class="cta" style="margin-top:16px">
          <a class="btn" href="https://github.com/gitububkm/Personal_Projects_Private/tree/main/%D0%9B%D0%B8%D1%87%D0%BD%D1%8B%D0%B5%20%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/girl_responder" target="_blank" rel="noreferrer">Открыть →</a>
        </div>
      </div>
    </article>

    <article class="card dark fade-up" data-tilt>
      <div class="inner">
        <h2>pentest-lab</h2>
        <p>Локальная пентест-песочница: стенды, сценарии, чек-листы — всё для практики безопасности.</p>
        <div class="img" aria-hidden="true" data-proj="pentest-lab"></div>
        <div class="cta" style="margin-top:16px">
          <a class="btn" href="https://github.com/gitububkm/Personal_Projects_Private/tree/main/%D0%9B%D0%B8%D1%87%D0%BD%D1%8B%D0%B5%20%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/pentest-lab" target="_blank" rel="noreferrer">Открыть →</a>
        </div>
      </div>
    </article>

    <article class="card fade-up" data-tilt>
      <div class="inner">
        <h2>secaudit-platform</h2>
        <p>Платформа для аудита безопасности: автоматизированные проверки и аккуратные отчёты.</p>
        <div class="img" aria-hidden="true" data-proj="secaudit-platform"></div>
        <div class="cta" style="margin-top:16px">
          <a class="btn" href="https://github.com/gitububkm/Personal_Projects_Private/tree/main/%D0%9B%D0%B8%D1%87%D0%BD%D1%8B%D0%B5%20%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/secaudit-platform" target="_blank" rel="noreferrer">Открыть →</a>
        </div>
      </div>
    </article>
  </section>

  <!-- Секретный блок (скрыт до ввода пароля) -->
  <section id="secretPanel" class="container" hidden aria-hidden="true">
    <div class="secret-card fade-up">
      <div class="secret-title">TOP SECRET</div>
      <p class="muted">Доступ разрешён.</p>
    </div>
  </section>

  <!-- Контакты -->
  <section id="contact" class="container" style="padding: 0 0 40px">
    <div class="card" style="padding: 24px">
      <div class="inner">
        <h2>Свяжитесь со мной</h2>
        <p class="muted">Открыт к предложениям и коллаборациям.</p>

        <!-- Gmail как кнопка + выезжающая панель -->
        <div class="reveal-wrap">
          <div class="cta">
            <button class="btn" id="gmailToggle" type="button" aria-expanded="false">Gmail <span class="chev">▾</span></button>
            <a class="btn" href="https://t.me/ububkmburry" target="_blank" rel="noreferrer">Telegram</a>
            <a class="btn secondary" href="https://github.com/gitububkm" target="_blank" rel="noreferrer">GitHub</a>
          </div>
          <div class="reveal-panel" id="gmailPanel" aria-hidden="true">
            <div class="panel-inner">
              <span class="email">ububkmart@gmail.com</span>
              <div style="display:flex;gap:8px">
                <a class="btn secondary" href="mailto:ububkmart@gmail.com">Написать</a>
                <button class="btn ghost" id="copyEmail" type="button">Копировать</button>
              </div>
            </div>
          </div>
        </div>
        <!-- /Gmail -->
      </div>
    </div>
  </section>

  <!-- Футер -->
  <footer>
    <div class="container cols">
      <div><strong>gitububkm</strong><br><span class="muted">© <span id="y"></span> Все права защищены.</span></div>
      <div><a href="#features">Проекты</a><br><a href="#contact">Контакты</a></div>
      <div><span class="muted">Сделано с заботой о деталях.</span></div>
      <div><span class="muted">mk XII</span></div>
    </div>
  </footer>

  <!-- Модальное окно пароля -->
  <div class="modal" id="secretModal" aria-hidden="true">
    <div class="sheet" role="dialog" aria-modal="true" aria-labelledby="secretHeading">
      <h3 id="secretHeading">Доступ к разделу «Совершенно Секретно»</h3>
      <p>Введите пароль, чтобы открыть раздел.</p>
      <div class="row" style="margin-top:8px">
        <input class="input" id="secretInput" type="password" inputmode="numeric" placeholder="6-значный пароль" />
        <button class="btn" id="secretOk" type="button">ОК</button>
        <button class="btn secondary" id="secretCancel" type="button">Отмена</button>
      </div>
    </div>
  </div>

  <script>
    // Год в футере
    document.getElementById('y').textContent = new Date().getFullYear();

    // Появление блоков при скролле
    const io = new IntersectionObserver((entries) => {
      entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('reveal'); });
    }, { threshold: .12 });
    document.querySelectorAll('.fade-up').forEach(el => io.observe(el));

    // Лёгкий «tilt»
    document.querySelectorAll('[data-tilt]').forEach(card => {
      const img = card.querySelector('.img');
      card.addEventListener('mousemove', (e) => {
        const r = card.getBoundingClientRect();
        const x = (e.clientX - r.left) / r.width - .5;
        const y = (e.clientY - r.top) / r.height - .5;
        card.style.transform = `perspective(900px) rotateX(${(-y*4).toFixed(2)}deg) rotateY(${(x*6).toFixed(2)}deg)`;
        if (img) img.style.transform = `translateY(${-6 + -y*4}px) scale(1.02)`;
      });
      card.addEventListener('mouseleave', () => {
        card.style.transform = 'perspective(900px) rotateX(0) rotateY(0)';
        if (img) img.style.transform = 'translateY(0) scale(1)';
      });
    });

    // Автоподстановка изображений
    (function(){
      const tryExts = ['webp','jpg','png','jpeg'];
      document.querySelectorAll('.card .img').forEach(el => {
        const nameAttr = el.getAttribute('data-proj');
        const heading = el.closest('.card')?.querySelector('h2')?.textContent?.trim();
        const base = (nameAttr || heading || '').trim();
        if(!base) return;
        (function loadWithExt(i){
          if(i>=tryExts.length) return;
          const url = `assets/${base}.${tryExts[i]}`;
          const img = new Image();
          img.onload = () => {
            el.style.background = `center / contain no-repeat url('${url}')`;
            el.setAttribute('aria-label', base);
          };
          img.onerror = () => loadWithExt(i+1);
          img.src = url;
        })(0);
      });
    })();

    // Gmail: выезжающая панель + автозакрытие по клику вне
    (function(){
      const toggle = document.getElementById('gmailToggle');
      const panel  = document.getElementById('gmailPanel');
      const copyBtn= document.getElementById('copyEmail');
      const email  = 'ububkmart@gmail.com';

      if(toggle && panel){
        const setOpen = (open) => {
          toggle.setAttribute('aria-expanded', open);
          panel.setAttribute('aria-hidden', String(!open));
          if(open){ panel.classList.add('open'); panel.style.maxHeight = panel.scrollHeight + 'px'; }
          else     { panel.style.maxHeight = '0px'; panel.classList.remove('open'); }
        };
        toggle.addEventListener('click', () => setOpen(toggle.getAttribute('aria-expanded') !== 'true'));
        window.addEventListener('resize', () => { if(panel.classList.contains('open')) panel.style.maxHeight = panel.scrollHeight + 'px'; });

        document.addEventListener('click', (e) => {
          const wrap = document.querySelector('.reveal-wrap');
          if(!wrap) return;
          const inside = wrap.contains(e.target);
          const open   = toggle.getAttribute('aria-expanded') === 'true';
          if(open && !inside) setOpen(false);
        });
      }

      if(copyBtn){
        copyBtn.addEventListener('click', async () => {
          try { await navigator.clipboard.writeText(email); copyBtn.textContent = 'Скопировано ✓'; setTimeout(()=>copyBtn.textContent='Копировать', 1400); }
          catch { copyBtn.textContent = email; }
        });
      }
    })();

    // ===== СЕКРЕТНЫЙ РАЗДЕЛ =====
    (function(){
      const openBtn = document.getElementById('secretLink');
      const modal   = document.getElementById('secretModal');
      const input   = document.getElementById('secretInput');
      const ok      = document.getElementById('secretOk');
      const cancel  = document.getElementById('secretCancel');
      const panel   = document.getElementById('secretPanel');

      // Обфусцированная функция: «случайные» вычисления по коду, но итог = 1
      function computePassword(){
        const src = document.documentElement.innerHTML;
        const digits = Array.from(src).filter(ch => ch >= '0' && ch <= '9').map(ch => ch.charCodeAt(0));
        let seed = 0 >>> 0;
        for (let i=0;i<digits.length;i++) seed = ((seed*131) + digits[i]) >>> 0;
        function rnd(){ seed = (seed*1664525 + 1013904223) >>> 0; return seed / 4294967296; }
        let v = 0 >>> 0;
        const loops = Math.min(64, (digits.length || 8) + 6);
        for (let i=0;i<loops;i++){
          const r = Math.floor(rnd()*1e6) >>> 0;
          v ^= (r & 0xffff);
          v  = (v + ((seed >>> (i%24)) & 255)) >>> 0;
          v  = Math.imul(v, 2654435761) >>> 0;
        }
        const lines = src.split('\n').length;
        v ^= Math.imul(lines, (src.length % 997)) >>> 0;
        const a=(v%7), b=(v%7), c=(v^v);
        return ((a-b)|c)+1; // всегда 1
      }

      const openModal  = () => { modal.classList.add('open'); modal.setAttribute('aria-hidden','false'); input.value=''; setTimeout(()=>input.focus(),10); };
      const closeModal = () => { modal.classList.remove('open'); modal.setAttribute('aria-hidden','true'); };

      async function tryUnlock(){
        const expected = computePassword();
        const provided = Number(input.value.trim());
        if(Number.isFinite(provided) && provided === expected){
          closeModal();
          panel.hidden = false; panel.setAttribute('aria-hidden','false');
          panel.scrollIntoView({ behavior:'smooth', block:'start' });
        } else {
          const sheet = modal.querySelector('.sheet');
          sheet.classList.remove('shake'); sheet.offsetWidth; sheet.classList.add('shake');
          input.select();
        }
      }

      if(openBtn) openBtn.addEventListener('click', (e)=>{ e.preventDefault(); openModal(); });
      if(ok)      ok.addEventListener('click', tryUnlock);
      if(input)   input.addEventListener('keydown', (e)=>{ if(e.key==='Enter') tryUnlock(); if(e.key==='Escape') closeModal(); });
      if(cancel)  cancel.addEventListener('click', closeModal);
      if(modal)   modal.addEventListener('click', (e)=>{ if(e.target === modal) closeModal(); });
    })();
  </script>
</body>
</html>
