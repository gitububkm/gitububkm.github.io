# üîí –ê–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: –ú–æ–∂–µ—Ç –ª–∏ —á–µ–ª–æ–≤–µ–∫ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ?

## ‚úÖ **–¢–µ–∫—É—â–∞—è –∑–∞—â–∏—Ç–∞:**

### 1. **CORS –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞**
- ‚úÖ Referer –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `https://gitububkm.github.io`
- ‚úÖ Origin –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω CORS —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–≤–æ–µ–≥–æ –¥–æ–º–µ–Ω–∞

### 2. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å–µ–∫—Ü–∏–π: `=== Network ===`, `=== System Info ===`, `=== Browser ===`
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞: 100KB –º–∞–∫—Å–∏–º—É–º
- ‚úÖ –ò–º—è —Ñ–∞–π–ª–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∫–ª–∏–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –µ–≥–æ –∏–∑–º–µ–Ω–∏—Ç—å

### 3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- ‚úÖ –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å IP –∞–¥—Ä–µ—Å–æ–º
- ‚úÖ –ù–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ `security.log`

## ‚ö†Ô∏è **–í–æ–∑–º–æ–∂–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–±—Ö–æ–¥–∞:**

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ó–∞–ø—É—Å–∫ –∑–∞–ø—Ä–æ—Å–∞ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ —Å–∞–π—Ç–µ
**–ß—Ç–æ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫:**
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ —Ç–≤–æ–µ–º —Å–∞–π—Ç–µ:
fetch('https://data-collector-gizw.onrender.com/collect', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    content: `=== Network ===\n  externalIP: fake\n=== System Info ===\n  platform: fake\n=== Browser ===\n  userAgent: fake`
  })
})
```

**–ë—É–¥–µ—Ç –ª–∏ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞—Ç—å?**
- ‚úÖ –ó–∞–ø—Ä–æ—Å –ø—Ä–æ–π–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É Referer/Origin (–∑–∞–ø—Ä–æ—Å –∏–¥–µ—Ç —Å —Ç–≤–æ–µ–≥–æ —Å–∞–π—Ç–∞)
- ‚úÖ –î–∞–Ω–Ω—ã–µ –ø—Ä–æ–π–¥—É—Ç –ø—Ä–æ–≤–µ—Ä–∫—É —Ñ–æ—Ä–º–∞—Ç–∞ (–µ—Å—Ç—å –≤—Å–µ —Ç—Ä–µ–±—É–µ–º—ã–µ —Å–µ–∫—Ü–∏–∏)
- ‚ùå **–ü–†–û–ë–õ–ï–ú–ê:** –î–∞–Ω–Ω—ã–µ –ù–ï –ø—Ä–æ–π–¥—É—Ç –ø—Ä–æ–≤–µ—Ä–∫—É bcrypt/–ø–∞—Ä–æ–ª—è (–µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å)

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: Curl —Å –ø–æ–¥–¥–µ–ª—å–Ω—ã–º Referer
```bash
curl -X POST https://data-collector-gizw.onrender.com/collect \
  -H "Content-Type: application/json" \
  -H "Referer: https://gitububkm.github.io" \
  -d '{"content": "fake data"}'
```

**–ë—É–¥–µ—Ç –ª–∏ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞—Ç—å?**
- ‚ö†Ô∏è CORS –º–æ–∂–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫)
- ‚ùå –î–∞–Ω–Ω—ã–µ –ù–ï –ø—Ä–æ–π–¥—É—Ç –ø—Ä–æ–≤–µ—Ä–∫—É —Ñ–æ—Ä–º–∞—Ç–∞ (–Ω–µ—Ç —Å–µ–∫—Ü–∏–π)
- ‚ùå –ò–º—è —Ñ–∞–π–ª–∞ –±—É–¥–µ—Ç —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ–ª–∫–∏
**–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–º–æ–∂–Ω–æ:**
1. –°–æ–∑–¥–∞—Ç—å —Å–∞–π—Ç —Å –ø–æ–¥–¥–µ–ª—å–Ω—ã–º Referer (HTTP Referer –ø–æ–¥–¥–µ–ª—ã–≤–∞–µ—Ç—Å—è –ª–µ–≥–∫–æ)
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –Ω—É–∂–Ω—ã–º–∏ —Å–µ–∫—Ü–∏—è–º–∏

**–ó–∞—â–∏—Ç–∞:**
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ IP –ø–æ–∫–∞–∂–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫
- ‚úÖ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É User-Agent
- ‚úÖ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–∞–ø—á—É (–Ω–æ –Ω–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–±–æ—Ä–∞)

## üéØ **–í–´–í–û–î:**

### ‚úÖ **–ù–ï –ú–û–ñ–ï–¢** –¥–æ–±–∞–≤–∏—Ç—å –°–í–û–ò –¥–∞–Ω–Ω—ã–µ, –µ—Å–ª–∏:
1. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç curl/Postman (–Ω–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ Referer/Origin)
2. –ü—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–¥–µ–ª–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –±–µ–∑ —Å–µ–∫—Ü–∏–π
3. –ü—ã—Ç–∞–µ—Ç—Å—è –∏–∑–º–µ–Ω–∏—Ç—å –∏–º—è —Ñ–∞–π–ª–∞

### ‚ö†Ô∏è **–ú–û–ñ–ï–¢** –¥–æ–±–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –µ—Å–ª–∏:
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ç–≤–æ–π —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –í—ã–ø–æ–ª–Ω—è–µ—Ç JavaScript –∫–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏ DevTools
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å —Å–µ–∫—Ü–∏—è–º–∏

### üîê **–ö–∞–∫ –≠–¢–û –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**

#### –†–µ—à–µ–Ω–∏–µ 1: –î–æ–±–∞–≤–∏—Ç—å secret token –¥–ª—è /collect
```python
# –í backend
secret_token = os.environ.get('COLLECT_SECRET')
if request.headers.get('X-Collect-Token') != secret_token:
    return jsonify({'error': 'Unauthorized'}), 403
```

```javascript
// –í frontend
fetch('${BASE_API}/collect', {
  headers: { 
    'X-Collect-Token': 'secret-value-here' // –¢–æ–∫–µ–Ω –≤ –∫–æ–¥–µ
  }
})
```
**–ú–∏–Ω—É—Å:** –¢–æ–∫–µ–Ω –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω –≤ –∫–æ–¥–µ —Å–∞–π—Ç–∞

#### –†–µ—à–µ–Ω–∏–µ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö
```javascript
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HMAC –ø–æ–¥–ø–∏—Å–∏ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
const signature = await crypto.subtle.sign(
  'HMAC',
  key,
  new TextEncoder().encode(content)
)
```

#### –†–µ—à–µ–Ω–∏–µ 3: Rate limiting –Ω–∞ /collect
```python
@app.route('/collect', methods=['POST'])
@rate_limit(max_attempts=5, window_seconds=3600)  # 5 —Ä–∞–∑ –≤ —á–∞—Å
```

#### –†–µ—à–µ–Ω–∏–µ 4: **–ü–†–ò–ù–Ø–¢–¨ –†–ò–°–ö** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö - —ç—Ç–æ **—Ñ—É–Ω–∫—Ü–∏—è —Å–∞–π—Ç–∞**
- –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ —Å —Ç–≤–æ–µ–≥–æ —Å–∞–π—Ç–∞
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å IP
- –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –¥–æ–±–∞–≤–ª—è–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (—Ä–µ–∞–ª—å–Ω—ã–π IP, –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è)
- –ú–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

## üìä **–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞: –°–†–ï–î–ù–ò–ô**

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (curl, Postman)
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
- ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å rate limiting –Ω–∞ `/collect` (5-10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —á–∞—Å) –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

